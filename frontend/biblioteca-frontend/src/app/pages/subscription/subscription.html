<h1 *ngIf="!enviadoConExito">ğŸ“¬ SuscrÃ­bete a nuestra Biblioteca Medieval</h1>

<form *ngIf="!enviadoConExito" [formGroup]="form" (ngSubmit)="enviar()" class="formulario" novalidate>
  <label for="nombre">Nombre: *</label>
  <input id="nombre" type="text" formControlName="nombre" />
  <div class="error" *ngIf="form.get('nombre')?.touched && form.get('nombre')?.invalid">
    El nombre es obligatorio.
  </div>

  <label for="correo">Correo electrÃ³nico: *</label>
  <input id="correo" type="email" formControlName="correo" />
  <div class="error" *ngIf="form.get('correo')?.touched && form.get('correo')?.invalid">
    <span *ngIf="form.get('correo')?.errors?.['required']">El correo es obligatorio.</span>
    <span *ngIf="form.get('correo')?.errors?.['email']">El formato del correo no es vÃ¡lido.</span>
  </div>

  <label for="password">ContraseÃ±a: *</label>
  <input id="password" type="password" formControlName="password" />
  <div class="error" *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
    <span *ngIf="form.get('password')?.errors?.['required']">La contraseÃ±a es obligatoria.</span>
    <span *ngIf="form.get('password')?.errors?.['minlength']">
      MÃ­nimo 6 caracteres.
    </span>
  </div>

  <label for="intereses">Â¿Sobre quÃ© temas te gustarÃ­a recibir informaciÃ³n?</label>
  <textarea
    id="intereses"
    formControlName="intereses"
    rows="3"
    placeholder="Ej: Libros, Autores, GÃ©neros...">
  </textarea>

  <label>
    <input type="checkbox" (change)="seleccionarTodo()" />
    Me interesa TODO
  </label>

  <button type="submit" [disabled]="loading || form.invalid">
    {{ loading ? 'â³ Enviando...' : 'ğŸš€ Enviar suscripciÃ³n' }}
  </button>
</form>

<div *ngIf="enviadoConExito" class="mensaje-exito">
  <h2>ğŸ‰ Â¡Gracias por suscribirte a nuestra Biblioteca Medieval!</h2>
  <p>Pronto recibirÃ¡s novedades en tu correo electrÃ³nico. SerÃ¡s redirigido a la pÃ¡gina principal.</p>
</div>
