<h1>ğŸŒŸ Mis Favoritos</h1>

<ul>
  <li *ngFor="let fav of favorites()" class="favorite-item">
    <h3>{{ fav.title }} ({{ fav.type }})</h3>
    <p><strong>Nota personal:</strong> {{ fav.personalNote || 'Sin nota' }}</p>
    <p><strong>CalificaciÃ³n:</strong> {{ fav.rating || 'Sin calificaciÃ³n' }}</p>

    <button (click)="editFavorite(fav)">âœï¸ Editar</button>
    <button (click)="deleteFavorite(fav._id)">ğŸ—‘ï¸ Eliminar</button>

    <div *ngIf="selectedItem === fav" class="edit-form">
      <label>
        Nota personal:
        <input [(ngModel)]="note" placeholder="Escribe una nota..." />
      </label>

      <label>
        CalificaciÃ³n:
        <input type="number" [(ngModel)]="rating" min="1" max="5" />
      </label>

      <button (click)="saveFavorite(fav)">ğŸ’¾ Guardar</button>
      <button (click)="cancelEdit()">âŒ Cancelar</button>
    </div>

    <hr />
  </li>
</ul>

<div *ngIf="favorites().length === 0">
  <p>No hay favoritos aÃºn. Â¡Agrega libros, autores o temas desde las secciones!</p>
</div>
